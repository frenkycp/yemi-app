<?php
// This class was automatically generated by a giiant build task
// You should not change it manually as it will be overwritten on next build

namespace app\controllers;

use yii\web\Controller;
use app\models\UncountableView02;
use dmstr\bootstrap\Tabs;
use yii\helpers\Url;

/**
 * 
 */
class PartsUncountableMonthlyReportController extends Controller
{
	public function actionIndex()
	{
		$data = [];

		$get_data_arr = UncountableView02::find()
		//->where(['PERIOD' => '201804'])
		->orderBy('ITEM, POST_DATE')
		->all();

		foreach ($get_data_arr as $key => $value) {
			$partno = $value->ITEM;
			$post_date = date('Y-m-d', strtotime($value->POST_DATE));
			$ending_qty = $value->ENDING_QTY;
			$wh_ending_qty = $value->WH_ENDING_QTY;

			$data[$partno]['categories'][] = $post_date;
			$data[$partno]['data1'][] = (int)$ending_qty;
			$data[$partno]['data2'][] = (int)$wh_ending_qty;
		}

		return $this->render('index', [
			'data' => $data,
		]);
	}
}